import streamlit as st
import google.generativeai as genai
import random

# --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–¢–†–ê–ù–ò–¶–´ ---
st.set_page_config(page_title="AIS Exam Master v2.5", page_icon="üéì", layout="centered")

# --- –ù–ê–°–¢–†–û–ô–ö–ê –ò–ò ---
if "GEMINI_KEY" in st.secrets:
    API_KEY = st.secrets["GEMINI_KEY"]
else:
    st.error("–û—à–∏–±–∫–∞: –ö–ª—é—á GEMINI_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Secrets!")
    st.stop()

genai.configure(api_key=API_KEY)
model = genai.GenerativeModel('gemini-2.0-flash')

# --- –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ö–†–ê–°–ò–í–û–ì–û –í–´–í–û–î–ê (–ó–ï–õ–ï–ù–´–ô –¢–ï–ö–°–¢) ---
def st_ai_message(text):
    """–í—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –≤ —Å—Ç–∏–ª–µ —Ö–∞–∫–µ—Ä—Å–∫–æ–π –∫–æ–Ω—Å–æ–ª–∏"""
    st.markdown(
        f"""
        <div style="
            background-color: #1e1e1e; 
            padding: 20px; 
            border-radius: 12px; 
            border: 1px solid #00ff66; 
            margin-top: 20px;">
            <p style="
                color: #00ff66; 
                font-family: 'Consolas', 'Courier New', monospace; 
                font-size: 15px; 
                line-height: 1.6; 
                white-space: pre-wrap; 
                margin: 0;">{text}</p>
        </div>
        """, 
        unsafe_allow_html=True
    )

# --- –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• –≠–ö–ó–ê–ú–ï–ù–ê (25 –ë–ò–õ–ï–¢–û–í) ---
tickets_data = {
    "1": {
        "q1": "–ü–æ–Ω—è—Ç–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ê–ò–°", 
        "a1": "–ö–æ–º–ø–ª–µ–∫—Å —É—Å–ª—É–≥ –ø–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –ø–æ–º–æ—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–±–æ–µ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.", 
        "q2": "–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ê–ò–°", 
        "a2": "–ü–æ —Å—Ñ–µ—Ä–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è (–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ, –±–∞–Ω–∫–∏), –ø–æ –º–∞—Å—à—Ç–∞–±—É (–æ–¥–∏–Ω–æ—á–Ω—ã–µ, –≥—Ä—É–ø–ø–æ–≤—ã–µ, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ), –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É –∑–∞–¥–∞—á (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ, —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ).", 
        "pract": "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ê–ò–° –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é.",
        "p_sol": "1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–∞—Å—à—Ç–∞–± (–Ω–∞ 1 –ü–ö –∏–ª–∏ –Ω–∞ –≤—Å—é —Å–µ—Ç—å). 2. –ü–æ–Ω—è—Ç—å —Å—Ñ–µ—Ä—É (–±–∞–Ω–∫, —Å–∫–ª–∞–¥). 3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–¥–∞—á—É."
    },
    "2": {
        "q1": "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û", 
        "a1": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (–ø–∞–º—è—Ç—å, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä) –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–µ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º.", 
        "q2": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –û–°", 
        "a2": "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–û–ó–£, –¥–∏—Å–∫), —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –∏ –Ω–∞–ª–∏—á–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏.", 
        "pract": "–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–ª–∞–Ω —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –û–°.",
        "p_sol": "1. –°–æ–∑–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–æ—á–Ω—É—é —Ñ–ª–µ—à–∫—É. 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å BIOS (–∑–∞–≥—Ä—É–∑–∫–∞ —Å USB). 3. –†–∞–∑–º–µ—Ç–∏—Ç—å –¥–∏—Å–∫. 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞."
    },
    "3": {
        "q1": "–≠—Ç–∞–ø—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –û–°", 
        "a1": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –∑–∞–≥—Ä—É–∑–∫–∞ —Å –Ω–æ—Å–∏—Ç–µ–ª—è, —Ä–∞–∑–º–µ—Ç–∫–∞ –¥–∏—Å–∫–∞, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤.", 
        "q2": "–¢–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö –Ω–æ—Å–∏—Ç–µ–ª–µ–π", 
        "a2": "USB-—Ñ–ª–µ—à–∫–∏, –æ–ø—Ç–∏—á–µ—Å–∫–∏–µ –¥–∏—Å–∫–∏ (CD/DVD), —Å–µ—Ç–µ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (PXE), –≤–Ω–µ—à–Ω–∏–µ –∂–µ—Å—Ç–∫–∏–µ –¥–∏—Å–∫–∏.", 
        "pract": "–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–π —Ñ–ª–µ—à–∫–∏.",
        "p_sol": "1. –í—ã–±—Ä–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É (Rufus/Ventoy). 2. –í—ã–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ ISO. 3. –£–∫–∞–∑–∞—Ç—å —Å—Ö–µ–º—É —Ä–∞–∑–¥–µ–ª–∞ (GPT/MBR). 4. –ù–∞–∂–∞—Ç—å –°—Ç–∞—Ä—Ç."
    },
    "4": {
        "q1": "–ü—Ä–∏–∫–ª–∞–¥–Ω–æ–µ –ü–û: –≤–∏–¥—ã", 
        "a1": "–ü–û –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á: –æ–±—â–µ–µ (–æ—Ñ–∏—Å), —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ (1–°, Photoshop), —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ (–∏–≥—Ä—ã).", 
        "q2": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ –ü–û", 
        "a2": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–Ω–∞, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∂–µ–ª–µ–∑—É, —É–¥–æ–±—Å—Ç–≤–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.", 
        "pract": "–í—ã–±—Ä–∞—Ç—å –ü–û –¥–ª—è –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂.",
        "p_sol": "1. –í—ã–±—Ä–∞—Ç—å CRM (Bitrix24) –¥–ª—è –±–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–æ–≤. 2. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–∏—é. 3. –î–æ–±–∞–≤–∏—Ç—å –æ—Ñ–∏—Å–Ω—ã–π –ø–∞–∫–µ—Ç."
    },
    "5": {
        "q1": "–ú–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û", 
        "a1": "–õ–æ–∫–∞–ª—å–Ω–∞—è, —Å–µ—Ç–µ–≤–∞—è, –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è (–±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏) –∏ —Ç–∏—Ö–∞—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è).", 
        "q2": "–§–æ—Ä–º–∞—Ç—ã –ø–∞–∫–µ—Ç–æ–≤", 
        "a2": "EXE, MSI (Windows), DMG (Mac), DEB/RPM (Linux).", 
        "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.",
        "p_sol": "1. –ù–∞–π—Ç–∏ —è—Ä–ª—ã–∫. 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ—à–∏–±–∫–∏."
    },
    "6": {
        "q1": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û", 
        "a1": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ç—á–µ–π –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.", 
        "q2": "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–æ–≤", 
        "a2": "–ü—Ä–æ–≥—Ä–∞–º–º—ã-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –º–µ–∂–¥—É –û–° –∏ '–∂–µ–ª–µ–∑–æ–º' (–ø—Ä–∏–Ω—Ç–µ—Ä, –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞).", 
        "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –û–°.",
        "p_sol": "1. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã -> –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ. 2. –ù–∞–∂–∞—Ç—å '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π'. 3. –ù–∞–∂–∞—Ç—å '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'."
    },
    "7": {
        "q1": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ê–ò–°", 
        "a1": "–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è (—Å–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ, –∫–ª–∏–µ–Ω—Ç –¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).", 
        "q2": "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ê–ò–°", 
        "a2": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ (–∂–µ–ª–µ–∑–æ), –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ (–û–°), –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ (–ë–î), –ü–µ—Ä—Å–æ–Ω–∞–ª.", 
        "pract": "–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ö–µ–º—É –ê–ò–°.",
        "p_sol": "1. –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –±–ª–æ–∫ '–°–µ—Ä–≤–µ—Ä'. 2. –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ '–ö–ª–∏–µ–Ω—Ç—ã'. 3. –°–æ–µ–¥–∏–Ω–∏—Ç—å –∏—Ö –ª–∏–Ω–∏–µ–π '–°–µ—Ç—å'."
    },
    "8": {
        "q1": "–û—à–∏–±–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û", 
        "a1": "–ù–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞, –∞–Ω—Ç–∏–≤–∏—Ä—É—Å, –±–∏—Ç—ã–π —Ñ–∞–π–ª.", 
        "q2": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", 
        "a2": "–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤, –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π Windows, –∫–æ–¥—ã –æ—à–∏–±–æ–∫.", 
        "pract": "–†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø—Ä–∞–≤.",
        "p_sol": "1. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ —Ñ–∞–π–ª. 2. –í—ã–±—Ä–∞—Ç—å '–ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞'. 3. –í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å."
    },
    "9": {
        "q1": "–í–∏–¥—ã –æ—à–∏–±–æ–∫ –ü–û", 
        "a1": "–õ–æ–≥–∏—á–µ—Å–∫–∏–µ, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–≤—ã–ª–µ—Ç), –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–µ, —Å–µ—Ç–µ–≤—ã–µ.", 
        "q2": "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ü–û", 
        "a2": "–§—É–Ω–∫—Ü–∏—è '–ò—Å–ø—Ä–∞–≤–∏—Ç—å', –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞, –æ—Ç–∫–∞—Ç —Å–∏—Å—Ç–µ–º—ã.", 
        "pract": "–í—ã–ø–æ–ª–Ω–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.",
        "p_sol": "1. –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -> –ü—Ä–æ–≥—Ä–∞–º–º—ã. 2. –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É -> –ò–∑–º–µ–Ω–∏—Ç—å. 3. –ù–∞–∂–∞—Ç—å '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'."
    },
    "10": {
        "q1": "–°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ", 
        "a1": "–í–µ—Ä—Å–∏—è –û–°, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (.NET, DirectX), –æ–±—ä–µ–º –û–ó–£ –∏ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ.", 
        "q2": "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å", 
        "a2": "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ –∏–ª–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –û–°.", 
        "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ü–û.",
        "p_sol": "1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –ü–ö. 2. –°—Ä–∞–≤–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã."
    },
    "11": {
        "q1": "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö", 
        "a1": "–°–æ–∑–¥–∞–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥—Ä—É–≥–æ–º –Ω–æ—Å–∏—Ç–µ–ª–µ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ—Ç–µ—Ä–∏.", 
        "q2": "–°–ø–æ—Å–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", 
        "a2": "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞, –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, –æ–±—Ä–∞–∑ –¥–∏—Å–∫–∞.", 
        "pract": "–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –ø–∞–ø–∫–∏.",
        "p_sol": "1. –í—ã–±—Ä–∞—Ç—å –ø–∞–ø–∫—É. 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –¥–∏—Å–∫ –∏–ª–∏ –≤ –æ–±–ª–∞–∫–æ. 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ø–∏—é."
    },
    "12": {
        "q1": "–¢–∏–ø—ã —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è", 
        "a1": "–ü–æ–ª–Ω–æ–µ, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ (–Ω–æ–≤–æ–µ), –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ (—Ä–∞–∑–Ω–∏—Ü–∞ –æ—Ç –ø–æ–ª–Ω–æ–≥–æ).", 
        "q2": "–°—Ä–µ–¥—Å—Ç–≤–∞ –±—ç–∫–∞–ø–∞", 
        "a2": "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ (–ò—Å—Ç–æ—Ä–∏—è —Ñ–∞–π–ª–æ–≤), —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ (Acronis), –æ–±–ª–∞–∫–∞.", 
        "pract": "–†–∞—Å–ø–∏—Å–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ –±—ç–∫–∞–ø–æ–≤.",
        "p_sol": "1. –ü–Ω: –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø. 2. –í—Ç-–í—Å: –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –±—ç–∫–∞–ø. 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü."
    },
    "13": {
        "q1": "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ê–ò–°", 
        "a1": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ (—Å–∞–π—Ç + 1–°).", 
        "q2": "–ú–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏", 
        "a2": "–û–±—â–∞—è –ë–î, —Ñ–∞–π–ª—ã (Excel/XML), API.", 
        "pract": "–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞ –∏ 1–°.",
        "p_sol": "1. –ó–∞–∫–∞–∑ –Ω–∞ —Å–∞–π—Ç–µ. 2. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API –≤ 1–°. 3. –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞ –≤ 1–°."
    },
    "14": {
        "q1": "–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è", 
        "a1": "HTTP/HTTPS (–≤–µ–±), FTP (—Ñ–∞–π–ª—ã), SMTP (–ø–æ—á—Ç–∞), TCP/IP.", 
        "q2": "–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –º–æ–¥—É–ª–∏", 
        "a2": "–ß–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≤–º–µ—Å—Ç–µ —á–µ—Ä–µ–∑ –æ–±—â–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö.", 
        "pract": "–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–æ—á—Ç—ã.",
        "p_sol": "1. –û—Ç–ø—Ä–∞–≤–∫–∞: SMTP. 2. –ü–æ–ª—É—á–µ–Ω–∏–µ: IMAP –∏–ª–∏ POP3."
    },
    "15": {
        "q1": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ê–ò–°", 
        "a1": "–°–ª–µ–∂–∫–∞ –∑–∞ –Ω–∞–≥—Ä—É–∑–∫–æ–π –¶–ü, –ø–∞–º—è—Ç—å—é –∏ —Ä–∞–±–æ—Ç–∞ —Å–ª—É–∂–±.", 
        "q2": "–°—Ä–µ–¥—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–∞", 
        "a2": "–î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á, –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π, MMC, RDP.", 
        "pract": "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã.",
        "p_sol": "1. services.msc. 2. –°–≤–æ–π—Å—Ç–≤–∞ —Å–ª—É–∂–±—ã -> –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ. 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ."
    },
    "16": {
        "q1": "–ò–Ω—Ñ–æ—Ä–º. –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", 
        "a1": "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.", 
        "q2": "–£–≥—Ä–æ–∑—ã –ò–ë", 
        "a2": "–í–Ω–µ—à–Ω–∏–µ (—Ö–∞–∫–µ—Ä—ã), –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏), —Å–±–æ–∏ –ø–∏—Ç–∞–Ω–∏—è.", 
        "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –û–° –Ω–∞ –≤–∏—Ä—É—Å—ã.",
        "p_sol": "1. –û—Ç–∫—Ä—ã—Ç—å –ó–∞—â–∏—Ç–Ω–∏–∫. 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å '–ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ'. 3. –£–¥–∞–ª–∏—Ç—å —É–≥—Ä–æ–∑—ã."
    },
    "17": {
        "q1": "Service Desk", 
        "a1": "–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Å–≤—è–∑–∏ —é–∑–µ—Ä–æ–≤ –∏ –ò–¢ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.", 
        "q2": "SLA", 
        "a2": "–î–æ–≥–æ–≤–æ—Ä –æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ –∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.", 
        "pract": "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ä–æ—á–Ω–æ—Å—Ç—å –∑–∞—è–≤–∫–∏.",
        "p_sol": "1. –í—ã—Å–æ–∫–∞—è: —Å–µ—Ä–≤–µ—Ä —É–ø–∞–ª. 2. –°—Ä–µ–¥–Ω—è—è: –ø—Ä–∏–Ω—Ç–µ—Ä –Ω–µ –ø–µ—á–∞—Ç–∞–µ—Ç. 3. –ù–∏–∑–∫–∞—è: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û."
    },
    "18": {
        "q1": "–ê–ª–≥–æ—Ä–∏—Ç–º —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏", 
        "a1": "–ü—Ä–∏–µ–º -> –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è -> –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç -> –†–µ—à–µ–Ω–∏–µ -> –ó–∞–∫—Ä—ã—Ç–∏–µ.", 
        "q2": "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–æ–∫", 
        "a2": "–ò–Ω—Ü–∏–¥–µ–Ω—Ç (—Å–ª–æ–º–∞–ª–æ—Å—å), –∑–∞–ø—Ä–æ—Å (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ), –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–¥–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é).", 
        "pract": "–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∂–∞–ª–æ–±—É.",
        "p_sol": "–ñ–∞–ª–æ–±–∞: '–ù–µ—Ç —Å–µ—Ç–∏'. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: –ò–Ω—Ü–∏–¥–µ–Ω—Ç. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π/–í—ã—Å–æ–∫–∏–π."
    },
    "19": {
        "q1": "–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ê–ò–°", 
        "a1": "–ü–ª–∞–Ω–æ–≤–æ–µ –≤–Ω–µ—Å–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–∫ –≤ —Å–∏—Å—Ç–µ–º—É (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Ñ—É–Ω–∫—Ü–∏–∏).", 
        "q2": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–∏–º", 
        "a2": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞, –º–∏–Ω–∏–º—É–º –ø—Ä–æ—Å—Ç–æ—è.", 
        "pract": "–ù–∞–ø–∏—Å–∞—Ç—å –ø–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.",
        "p_sol": "1. –ë—ç–∫–∞–ø. 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. 3. –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–π. 4. –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ."
    },
    "20": {
        "q1": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ü–û", 
        "a1": "–ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ—Ç–¥–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.", 
        "q2": "–ó–∞–¥–∞—á–∏ —Ç–µ—Å—Ç–æ–≤", 
        "a2": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —Å–∫–æ—Ä–æ—Å—Ç—å, —É–¥–æ–±—Å—Ç–≤–æ.", 
        "pract": "–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏.",
        "p_sol": "1. –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É. 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç. 3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥."
    },
    "21": {
        "q1": "–°—Ç–æ—Ä–æ–Ω–Ω–µ–µ –ü–û", 
        "a1": "–í–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (Excel, CRM).", 
        "q2": "–ò–Ω—Ç–µ–≥—Ä. –æ—à–∏–±–∫–∏", 
        "a2": "–ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤, –æ–±—Ä—ã–≤—ã —Å–µ—Ç–∏.", 
        "pract": "–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –≤—ã–≥—Ä—É–∑–∫–∏.",
        "p_sol": "1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞. 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å —Å –ë–î. 3. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å."
    },
    "22": {
        "q1": "–ú–µ—Ç–æ–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", 
        "a1": "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä–æ–ª–∏, –∞–Ω—Ç–∏–≤–∏—Ä—É—Å, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.", 
        "q2": "–ü–æ–ª–∏—Ç–∏–∫–∏ –ò–ë", 
        "a2": "–°–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞.", 
        "pract": "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–µ.",
        "p_sol": "1. –°–≤–æ–π—Å—Ç–≤–∞ –ø–∞–ø–∫–∏ -> –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. 2. –£–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏'."
    },
    "23": {
        "q1": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ", 
        "a1": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏.", 
        "q2": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏", 
        "a2": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¶–ü, –û–ó–£, –î–∏—Å–∫–∞ —á–µ—Ä–µ–∑ –î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á.", 
        "pract": "–ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å, –≥—Ä—É–∑—è—â–∏–π –¶–ü.",
        "p_sol": "1. –î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á. 2. –í–∫–ª–∞–¥–∫–∞ –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏. 3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¶–ü. 4. –ó–∞–≤–µ—Ä—à–∏—Ç—å."
    },
    "24": {
        "q1": "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è", 
        "a1": "–ú–∞–Ω—É–∞–ª—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∏ —é–∑–µ—Ä–æ–≤.", 
        "q2": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è", 
        "a2": "–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å.", 
        "pract": "–ù–∞–ø–∏—Å–∞—Ç—å –º–∞–Ω—É–∞–ª –ø–æ –≤—Ö–æ–¥—É.",
        "p_sol": "1. –õ–æ–≥–∏–Ω. 2. –ü–∞—Ä–æ–ª—å. 3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –í—Ö–æ–¥."
    },
    "25": {
        "q1": "–û—à–∏–±–∫–∏ —é–∑–µ—Ä–æ–≤", 
        "a1": "–£–¥–∞–ª–µ–Ω–∏–µ, –≤–≤–æ–¥ —Å Caps Lock, –≤–∏—Ä—É—Å—ã.", 
        "q2": "–ê–Ω–∞–ª–∏–∑ –æ–±—Ä–∞—â–µ–Ω–∏–π", 
        "a2": "–ü–æ–∏—Å–∫ –º–∞—Å—Å–æ–≤—ã—Ö –ø—Ä–∏—á–∏–Ω —Å–±–æ–µ–≤.", 
        "pract": "–†–∞–∑–±–æ—Ä —Ç–∏–ø–∏—á–Ω—ã—Ö –∂–∞–ª–æ–±.",
        "p_sol": "1. –ù–µ –≤—Ö–æ–¥–∏—Ç - Caps Lock. 2. –ù–µ—Ç —Å–≤—è–∑–∏ - –∫–∞–±–µ–ª—å. 3. –ù–µ—Ç –º–µ—Å—Ç–∞ - –ö–æ—Ä–∑–∏–Ω–∞."
    }
}

# --- –ò–ù–¢–ï–†–§–ï–ô–° ---
st.title("üöÄ AIS Exam Master v2.5")
st.caption("–¢–≤–æ–π –º–æ–±–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –≤ —Å—Ç–∏–ª–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞")

tab_study, tab_exam, tab_lab, tab_any = st.tabs([
    "üìñ –£–ß–ò–¢–¨", "üé´ –≠–ö–ó–ê–ú–ï–ù", "üß™ AI –õ–ê–ë", "üåç –¢–ï–ú–´"
])

# --- 1. –í–ö–õ–ê–î–ö–ê: –£–ß–ò–¢–¨ ---
with tab_study:
    st.header("–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –¢–µ–æ—Ä–∏—è + –ü—Ä–∞–∫—Ç–∏–∫–∞")
    for num in sorted(tickets_data.keys(), key=int):
        data = tickets_data[num]
        with st.expander(f"üìò –ë–ò–õ–ï–¢ ‚Ññ{num}"):
            st.markdown(f"**–í–æ–ø—Ä–æ—Å 1:** {data['q1']}")
            st.info(data['a1'])
            st.markdown(f"**–í–æ–ø—Ä–æ—Å 2:** {data['q2']}")
            st.info(data['a2'])
            st.markdown("**üõ† –ü–†–ê–ö–¢–ò–ö–ê:**")
            st.success(data['pract'])
            st.markdown("**üìù –ê–õ–ì–û–†–ò–¢–ú:**")
            st.code(data['p_sol'])

# --- 2. –í–ö–õ–ê–î–ö–ê: –≠–ö–ó–ê–ú–ï–ù ---
with tab_exam:
    if 'ex_ticket' not in st.session_state:
        st.session_state.ex_ticket = None
        st.session_state.ex_step = 1

    if st.button("üé≤ –¢—è–Ω—É—Ç—å –Ω–æ–≤—ã–π –±–∏–ª–µ—Ç"):
        st.session_state.ex_ticket = random.choice(list(tickets_data.keys()))
        st.session_state.ex_step = 1
        st.rerun()

    if st.session_state.ex_ticket:
        t_num = st.session_state.ex_ticket
        step = st.session_state.ex_step
        data = tickets_data[t_num]
        
        st.warning(f"–ë–∏–ª–µ—Ç ‚Ññ{t_num} | –®–∞–≥ {step} –∏–∑ 3")
        
        if step == 1: q, ref = data['q1'], data['a1']
        elif step == 2: q, ref = data['q2'], data['a2']
        else: q, ref = f"–ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: {data['pract']}", data['p_sol']
        
        st.subheader(q)
        user_ans = st.text_area("–¢–≤–æ–π –æ—Ç–≤–µ—Ç:", key=f"ans_step_{step}_{t_num}", height=150)
        
        if st.button("‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç"):
            with st.spinner("ü§ñ –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç..."):
                prompt = f"""
                –¢—ã - —Å—Ç—Ä–æ–≥–∏–π –ò–¢-—ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä. –ü—Ä–æ–≤–µ—Ä—å –æ—Ç–≤–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞.
                –í–æ–ø—Ä–æ—Å: {q}
                –≠—Ç–∞–ª–æ–Ω: {ref}
                –û—Ç–≤–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞: {user_ans}

                –¢–≤–æ–π —Ä–∞–∑–±–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º:
                1. –û—Ü–µ–Ω–∫–∞ (–í–ï–†–ù–û/–ù–ï–í–ï–†–ù–û/–ß–ê–°–¢–ò–ß–ù–û).
                2. –ß—Ç–æ —Å—Ç—É–¥–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
                3. –ß—Ç–æ —Å—Ç—É–¥–µ–Ω—Ç –ó–ê–ë–´–õ –∏–ª–∏ –ì–î–ï –û–®–ò–ë–°–Ø (—Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –ø—É–Ω–∫—Ç).
                4. –ö–∞–∫ —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –∑–≤—É—á–∞—Ç—å –Ω–∞ '–æ—Ç–ª–∏—á–Ω–æ'.
                """
                res = model.generate_content(prompt).text
                st_ai_message(res)
                
                if step < 3:
                    if st.button("–î–∞–ª–µ–µ üëâ"):
                        st.session_state.ex_step += 1
                        st.rerun()
                else:
                    st.balloons()
                    st.success("–ë–∏–ª–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–π–¥–µ–Ω!")

# --- 3. –í–ö–õ–ê–î–ö–ê: AI –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø ---
# --- 3. –í–ö–õ–ê–î–ö–ê: AI –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø ---
with tab_lab:
    st.header("–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–¥–∞—á")
    topic = st.selectbox("–¢–µ–º–∞:", ["–ò–ë", "–ë—ç–∫–∞–ø—ã", "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û", "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥", "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ"])
    diff = st.select_slider("–°–ª–æ–∂–Ω–æ—Å—Ç—å:", ["–õ–µ–≥–∫–æ", "–°—Ä–µ–¥–Ω–µ", "–°–ª–æ–∂–Ω–æ"])
    
    # –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
    if st.button("‚ö° –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∑–∞–¥–∞—á—É"):
        with st.spinner("–ì–µ–Ω–µ—Ä–∏—Ä—É—é..."):
            try:
                prompt = f"–ó–∞–¥–∞–π –æ–¥–Ω—É –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∑–∞–¥–∞—á—É –ø–æ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–µ –ê–ò–°. –¢–µ–º–∞: {topic}, —Å–ª–æ–∂–Ω–æ—Å—Ç—å: {diff}."
                response = model.generate_content(prompt)
                # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—Å—Ç –≤ session_state, —á—Ç–æ–±—ã –æ–Ω –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–ª –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
                st.session_state.lab_q = response.text 
            except Exception as e:
                st.error(f"–û—à–∏–±–∫–∞ –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏ –º–∏–Ω—É—Ç—É! ({e})")
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–¥–∞—á—É, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å –≤ –ø–∞–º—è—Ç–∏
    if 'lab_q' in st.session_state and st.session_state.lab_q:
        st.info(st.session_state.lab_q)
        
        ans_lab = st.text_area("–¢–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:", key="lab_ans_area")
        
        if st.button("üéØ –û—Ü–µ–Ω–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ"):
            with st.spinner("–ü—Ä–æ–≤–µ—Ä–∫–∞..."):
                try:
                    prompt_eval = f"–ó–∞–¥–∞—á–∞: {st.session_state.lab_q}\n–†–µ—à–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞: {ans_lab}. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ, –æ—Ü–µ–Ω–∏ –ø–æ 5-–±–∞–ª—å–Ω–æ–π —à–∫–∞–ª–µ."
                    res = model.generate_content(prompt_eval)
                    st_ai_message(res.text)
                except Exception as e:
                    st.error("Google —É—Å—Ç–∞–ª. –ü–æ–¥–æ–∂–¥–∏ 30-60 —Å–µ–∫—É–Ω–¥.")
# --- 4. –í–ö–õ–ê–î–ö–ê: –õ–Æ–ë–ê–Ø –¢–ï–ú–ê ---
with tab_any:
    st.header("–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ 10 –≤–æ–ø—Ä–æ—Å–æ–≤")
    if 'any_count' not in st.session_state: st.session_state.any_count = 0
    
    any_topic = st.text_input("–í–ø–∏—à–∏ —Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: Minecraft, –ö—É–ª–∏–Ω–∞—Ä–∏—è):")
    
    if st.button("üöÄ –ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É"):
        st.session_state.any_count = 1
        st.session_state.any_topic = any_topic
        st.rerun()

    if st.session_state.any_count > 0 and st.session_state.any_count <= 10:
        curr_topic = st.session_state.any_topic
        curr_num = st.session_state.any_count
        st.write(f"**–í–æ–ø—Ä–æ—Å {curr_num} / 10**")
        
        with st.spinner("–ò–ò –ø–∏—à–µ—Ç –≤–æ–ø—Ä–æ—Å..."):
            q_text = model.generate_content(f"–¢–µ–º–∞ {curr_topic}. –í–æ–ø—Ä–æ—Å ‚Ññ{curr_num}. –ö–æ—Ä–æ—Ç–∫–æ.").text
            st.subheader(q_text)
        
        ans_any = st.text_input("–¢–≤–æ–π –æ—Ç–≤–µ—Ç:", key=f"any_in_{curr_num}")
        if st.button("üéØ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å"):
            with st.spinner("–ü—Ä–æ–≤–µ—Ä–∫–∞..."):
                res = model.generate_content(f"–í–æ–ø—Ä–æ—Å: {q_text}\n–û—Ç–≤–µ—Ç: {ans_any}. –ü—Ä–æ–≤–µ—Ä—å –∫—Ä–∞—Ç–∫–æ.").text
                st_ai_message(res)
                if st.button("–î–∞–ª—å—à–µ ‚è≠"):
                    st.session_state.any_count += 1
                    st.rerun()
    elif st.session_state.any_count > 10:
        st.success("–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        if st.button("–ó–∞–Ω–æ–≤–æ üîÑ"):
            st.session_state.any_count = 0
            st.rerun()




import streamlit as st
from groq import Groq
import random

# --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ---
st.set_page_config(page_title="AIS Master PRO | GROQ", page_icon="üíª", layout="centered")

# --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø GROQ ---
if "GROQ_KEY" in st.secrets:
    client = Groq(api_key=st.secrets["GROQ_KEY"])
else:
    st.error("–ö–ª—é—á GROQ_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Secrets!")
    st.stop()

# –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –ò–ò
def ask_groq(system_prompt, user_input):
    try:
        completion = client.chat.completions.create(
            model="llama-3.3-70b-versatile",
            messages=[
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": user_input}
            ],
            temperature=0.5,
        )
        return completion.choices[0].message.content
    except Exception as e:
        return f"–û–®–ò–ë–ö–ê –î–û–°–¢–£–ü–ê: {e}"

# --- –¢–ï–†–ú–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ò–õ–¨ (–ó–ï–õ–ï–ù–´–ô –¢–ï–ö–°–¢) ---
def terminal_print(text):
    st.markdown(
        f"""
        <div style="
            background-color: #050505; 
            padding: 20px; 
            border-radius: 8px; 
            border: 2px solid #00ff66; 
            box-shadow: 0 0 15px #00ff6633;
            margin: 20px 0;">
            <p style="
                color: #00ff66; 
                font-family: 'Consolas', monospace; 
                font-size: 15px; 
                line-height: 1.6; 
                white-space: pre-wrap; 
                margin: 0;">[ROOT@AIS_EXAM ~]# {text}</p>
        </div>
        """, 
        unsafe_allow_html=True
    )

# --- –ë–ê–ó–ê –î–ê–ù–ù–´–• (25 –ë–ò–õ–ï–¢–û–í) ---
tickets_data = {
    "1": {"q1": "–ü–æ–Ω—è—Ç–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ê–ò–°", "a1": "–ö–æ–º–ø–ª–µ–∫—Å —É—Å–ª—É–≥ –ø–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –ø–æ–º–æ—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.", "q2": "–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ê–ò–°", "a2": "–ü–æ —Å—Ñ–µ—Ä–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è, –º–∞—Å—à—Ç–∞–±—É –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É –∑–∞–¥–∞—á.", "pract": "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ê–ò–° –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é.", "p_sol": "–ê–Ω–∞–ª–∏–∑ –º–∞—Å—à—Ç–∞–±–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞."},
    "2": {"q1": "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û", "a1": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–µ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º.", "q2": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –û–°", "a2": "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–û–ó–£, –¥–∏—Å–∫), —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –ª–∏—Ü–µ–Ω–∑–∏—è.", "pract": "–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–ª–∞–Ω —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –û–°.", "p_sol": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–æ—Å–∏—Ç–µ–ª—è -> BIOS -> –†–∞–∑–º–µ—Ç–∫–∞ -> –£—Å—Ç–∞–Ω–æ–≤–∫–∞."},
    "3": {"q1": "–≠—Ç–∞–ø—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –û–°", "a1": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –∑–∞–≥—Ä—É–∑–∫–∞, —Ä–∞–∑–º–µ—Ç–∫–∞ –¥–∏—Å–∫–∞, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.", "q2": "–¢–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö –Ω–æ—Å–∏—Ç–µ–ª–µ–π", "a2": "USB, CD/DVD, –°–µ—Ç—å (PXE), –≤–Ω–µ—à–Ω–∏–µ HDD.", "pract": "–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–π —Ñ–ª–µ—à–∫–∏.", "p_sol": "Rufus/Ventoy, –≤—ã–±–æ—Ä ISO –∏ —Å—Ö–µ–º—ã GPT/MBR."},
    "4": {"q1": "–ü—Ä–∏–∫–ª–∞–¥–Ω–æ–µ –ü–û: –≤–∏–¥—ã", "a1": "–ü–û –¥–ª—è –∑–∞–¥–∞—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –æ–±—â–µ–µ, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ, —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ.", "q2": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ –ü–û", "a2": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, —Ü–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.", "pract": "–í—ã–±—Ä–∞—Ç—å –ü–û –¥–ª—è –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂.", "p_sol": "CRM + IP-—Ç–µ–ª–µ—Ñ–æ–Ω–∏—è + –û—Ñ–∏—Å–Ω—ã–π –ø–∞–∫–µ—Ç."},
    "5": {"q1": "–ú–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û", "a1": "–õ–æ–∫–∞–ª—å–Ω–∞—è, —Å–µ—Ç–µ–≤–∞—è, –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è, —Ç–∏—Ö–∞—è.", "q2": "–§–æ—Ä–º–∞—Ç—ã –ø–∞–∫–µ—Ç–æ–≤", "a2": "EXE, MSI, DMG, DEB/RPM.", "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.", "p_sol": "–ó–∞–ø—É—Å–∫ –æ—Ç –∞–¥–º–∏–Ω–∞ -> –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π."},
    "6": {"q1": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û", "a1": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ç—á–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∞–≤–æ–∫.", "q2": "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–æ–≤", "a2": "–°–≤—è–∑—å –û–° —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º.", "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –û–°.", "p_sol": "–¶–µ–Ω—Ç—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π -> –ü–æ–∏—Å–∫ -> –£—Å—Ç–∞–Ω–æ–≤–∫–∞."},
    "7": {"q1": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ê–ò–°", "a1": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–≤—è–∑–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä).", "q2": "–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ê–ò–°", "a2": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ, –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª.", "pract": "–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ö–µ–º—É –ê–ò–°.", "p_sol": "–ö–ª–∏–µ–Ω—Ç -> –°–µ—Ç—å -> –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π -> –ë–î."},
    "8": {"q1": "–û—à–∏–±–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û", "a1": "–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –Ω–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞.", "q2": "–ú–µ—Ç–æ–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏", "a2": "–ñ—É—Ä–Ω–∞–ª—ã —Å–æ–±—ã—Ç–∏–π, –ª–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫–æ–¥—ã –æ—à–∏–±–æ–∫.", "pract": "–†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø—Ä–∞–≤.", "p_sol": "–ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞."},
    "9": {"q1": "–í–∏–¥—ã –æ—à–∏–±–æ–∫ –ü–û", "a1": "–õ–æ–≥–∏—á–µ—Å–∫–∏–µ, —Å–∏—Å—Ç–µ–º–Ω—ã–µ, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–µ, —Å–µ—Ç–µ–≤—ã–µ.", "q2": "–ú–µ—Ç–æ–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ü–û", "a2": "Repair, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞, –æ—Ç–∫–∞—Ç —Å–∏—Å—Ç–µ–º—ã.", "pract": "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.", "p_sol": "–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -> –ò–∑–º–µ–Ω–∏—Ç—å -> –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å."},
    "10": {"q1": "–°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ", "a1": "–í–µ—Ä—Å–∏—è –û–°, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.", "q2": "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å", "a2": "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ü–û —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ.", "pract": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.", "p_sol": "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã."},
    "11": {"q1": "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ", "a1": "–°–æ–∑–¥–∞–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.", "q2": "–°–ø–æ—Å–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", "a2": "–ò–∑ –æ–±—Ä–∞–∑–∞, –∏–∑ —Ñ–∞–π–ª–∞, —á–µ—Ä–µ–∑ —Å–ø–µ—Ü. —Å–æ—Ñ—Ç.", "pract": "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø –∫–∞—Ç–∞–ª–æ–≥–∞.", "p_sol": "–í—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ -> –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–ª–∏ -> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ."},
    "12": {"q1": "–¢–∏–ø—ã —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è", "a1": "–ü–æ–ª–Ω–æ–µ, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ, –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ.", "q2": "–°—Ä–µ–¥—Å—Ç–≤–∞ –±—ç–∫–∞–ø–∞", "a2": "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ (Windows), —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ (Veeam, Acronis).", "pract": "–ü–ª–∞–Ω –±—ç–∫–∞–ø–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é.", "p_sol": "Full –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ, Incremental –µ–∂–µ–¥–Ω–µ–≤–Ω–æ."},
    "13": {"q1": "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ê–ò–°", "a1": "–°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏.", "q2": "–ú–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏", "a2": "–ß–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã, —á–µ—Ä–µ–∑ –æ–±—â—É—é –ë–î, —á–µ—Ä–µ–∑ API.", "pract": "–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.", "p_sol": "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω -> API -> 1–°."},
    "14": {"q1": "–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è", "a1": "–ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (TCP/IP, HTTP, FTP).", "q2": "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π", "a2": "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—ã–∫–æ–≤–∫–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –±–ª–æ–∫–æ–≤.", "pract": "–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª.", "p_sol": "–í–µ–± ‚Äî HTTPS, –ø–æ—á—Ç–∞ ‚Äî SMTP."},
    "15": {"q1": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ê–ò–°", "a1": "–°–ª–µ–∂–µ–Ω–∏–µ –∑–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.", "q2": "–°—Ä–µ–¥—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è", "a2": "–î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á, –∫–æ–Ω—Å–æ–ª–∏ MMC, —É–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø.", "pract": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–ª—É–∂–±—ã.", "p_sol": "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–ª—É–∂–±—ã –ø—Ä–∏ —Å–±–æ–µ."},
    "16": {"q1": "–ò–Ω—Ñ–æ—Ä–º. –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "a1": "–ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.", "q2": "–¢–∏–ø—ã —É–≥—Ä–æ–∑", "a2": "–í—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–µ –ü–û, —Ñ–∏—à–∏–Ω–≥, –∏–Ω—Å–∞–π–¥–µ—Ä—ã.", "pract": "–ü–æ–∏—Å–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π.", "p_sol": "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ –∏ –≤–µ—Ä—Å–∏–π –ü–û."},
    "17": {"q1": "Service Desk", "a1": "–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π.", "q2": "SLA", "a2": "–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞ (–≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞).", "pract": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞—è–≤–∫–∏.", "p_sol": "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö—Ä–∏—Ç–∏—á–Ω—ã–π -> –í—ã—Å–æ–∫–∏–π -> –ù–æ—Ä–º–∞–ª—å–Ω—ã–π."},
    "18": {"q1": "–ê–ª–≥–æ—Ä–∏—Ç–º —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏", "a1": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -> –ê–Ω–∞–ª–∏–∑ -> –†–µ—à–µ–Ω–∏–µ -> –ó–∞–∫—Ä—ã—Ç–∏–µ.", "q2": "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–æ–∫", "a2": "–ò–Ω—Ü–∏–¥–µ–Ω—Ç, –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –ó–∞–ø—Ä–æ—Å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ.", "pract": "–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ.", "p_sol": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø—Ä–æ–±–ª–µ–º—ã."},
    "19": {"q1": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ê–ò–°", "a1": "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –ü–û –≤ —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É.", "q2": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º", "a2": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–æ–ø–∏–∏, –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞.", "pract": "–†–µ–≥–ª–∞–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.", "p_sol": "Backup -> Update -> Test -> Accept/Rollback."},
    "20": {"q1": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ü–û", "a1": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.", "q2": "–¶–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è", "a2": "–í—ã—è–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.", "pract": "–í—ã–±—Ä–∞—Ç—å —Ç–∏–ø —Ç–µ—Å—Ç–∞.", "p_sol": "–†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏."},
    "21": {"q1": "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –ü–û", "a1": "–†–∞–±–æ—Ç–∞ –ê–ò–° —Å –≤–Ω–µ—à–Ω–∏–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏.", "q2": "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏", "a2": "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤, —Ç–∞–π–º–∞—É—Ç—ã.", "pract": "–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.", "p_sol": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏."},
    "22": {"q1": "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏", "a1": "–ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –µ—ë —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.", "q2": "–ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", "a2": "–ù–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª –¥–æ—Å—Ç—É–ø–∞ (–ø–∞—Ä–æ–ª–∏, –ø—Ä–∞–≤–∞).", "pract": "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.", "p_sol": "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–ª—è –ø–∞–ø–∫–∏."},
    "23": {"q1": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ê–ò–°", "a1": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.", "q2": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏", "a2": "–ö–æ–Ω—Ç—Ä–æ–ª—å CPU, RAM –∏ –¥–∏—Å–∫–∞.", "pract": "–ê–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∑–∫–∏.", "p_sol": "–ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä."},
    "24": {"q1": "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—é", "a1": "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–∞, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.", "q2": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏", "a2": "–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å, –ø–æ–ª–Ω–æ—Ç–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.", "pract": "–°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.", "p_sol": "–®–∞–±–ª–æ–Ω: –°–∫—Ä–∏–Ω—à–æ—Ç -> –û–ø–∏—Å–∞–Ω–∏–µ -> –†–µ–∑—É–ª—å—Ç–∞—Ç."},
    "25": {"q1": "–û—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π", "a1": "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥, —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤.", "q2": "–ú–µ—Ç–æ–¥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞", "a2": "–°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.", "pract": "–†–∞–∑–±–æ—Ä –æ–±—Ä–∞—â–µ–Ω–∏–π.", "p_sol": "–ü–æ–∏—Å–∫ –æ–±—â–µ–π –ø—Ä–∏—á–∏–Ω—ã –∂–∞–ª–æ–±."}
}

# --- –ò–ù–¢–ï–†–§–ï–ô–° ---
st.title("üöÄ AIS Exam Master v2.6")
st.caption("Powered by GROQ | Llama 3.3 70B High-Speed")

tabs = st.tabs(["üìñ –£–ß–ò–¢–¨", "üé´ –≠–ö–ó–ê–ú–ï–ù", "üß™ AI –õ–ê–ë", "üåç –¢–ï–ú–´"])

# --- –í–ö–õ–ê–î–ö–ê 1: –£–ß–ò–¢–¨ ---
with tabs[0]:
    st.header("–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π")
    for num in sorted(tickets_data.keys(), key=int):
        with st.expander(f"üìò –ë–ò–õ–ï–¢ ‚Ññ{num}"):
            d = tickets_data[num]
            st.markdown(f"**–í–æ–ø—Ä–æ—Å 1:** {d['q1']}\n\n*–û—Ç–≤–µ—Ç:* {d['a1']}")
            st.markdown(f"**–í–æ–ø—Ä–æ—Å 2:** {d['q2']}\n\n*–û—Ç–≤–µ—Ç:* {d['a2']}")
            st.success(f"üõ† **–ü–†–ê–ö–¢–ò–ö–ê:** {d['pract']}")
            st.info(f"üìù **–ê–õ–ì–û–†–ò–¢–ú:** {d['p_sol']}")

# --- –í–ö–õ–ê–î–ö–ê 2: –≠–ö–ó–ê–ú–ï–ù ---
with tabs[1]:
    if 'ex_ticket' not in st.session_state: st.session_state.ex_ticket = None
    if 'ex_step' not in st.session_state: st.session_state.ex_step = 1

    if st.button("üé≤ –í—ã—Ç—è–Ω—É—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –±–∏–ª–µ—Ç"):
        st.session_state.ex_ticket = random.choice(list(tickets_data.keys()))
        st.session_state.ex_step = 1
        st.rerun()

    if st.session_state.ex_ticket:
        t_num = st.session_state.ex_ticket
        step = st.session_state.ex_step
        data = tickets_data[t_num]
        
        st.warning(f"–ë–∏–ª–µ—Ç ‚Ññ{t_num} | –®–∞–≥ {step} –∏–∑ 3")
        q = data['q1'] if step == 1 else (data['q2'] if step == 2 else f"–ü–†–ê–ö–¢–ò–ö–ê: {data['pract']}")
        ref = data['a1'] if step == 1 else (data['a2'] if step == 2 else data['p_sol'])
        
        st.subheader(q)
        ans = st.text_area("–¢–≤–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç:", key=f"ex_ans_{step}_{t_num}", height=150)
        
        if st.button("üöÄ –°–¥–∞—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É"):
            with st.spinner("–≠–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç –ª–æ–≥..."):
                sys_p = "–¢—ã ‚Äî –∫—Ä–∞–π–Ω–µ —Å—Ç—Ä–æ–≥–∏–π –ò–¢-—ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä. –ù–µ —Ö–≤–∞–ª–∏ –∑–∞ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ—Ç–æ—á–Ω—ã–π ‚Äî —Ä—É–≥–∞–π –∑–∞ –Ω–µ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º."
                user_p = f"–í–æ–ø—Ä–æ—Å: {q}\n–≠—Ç–∞–ª–æ–Ω: {ref}\n–û—Ç–≤–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞: {ans}\n–û—Ü–µ–Ω–∏ —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ: –í–ï–†–î–ò–ö–¢, –ß–¢–û –ó–ê–ë–´–õ, –ò–î–ï–ê–õ–¨–ù–´–ô –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –û–¢–í–ï–¢."
                res = ask_groq(sys_p, user_p)
                terminal_print(res)
                if step < 3:
                    st.button("–î–∞–ª–µ–µ üëâ", on_click=lambda: st.session_state.update({"ex_step": step+1}))
    else: st.info("–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ.")

# --- –í–ö–õ–ê–î–ö–ê 3: AI –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø ---
with tabs[2]:
    st.header("–°–∏–º—É–ª—è—Ç–æ—Ä –∞–≤–∞—Ä–∏–π")
    topic_l = st.selectbox("–°—Ñ–µ—Ä–∞:", ["–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "–°–µ—Ç–∏", "–ë–î", "Linux/Windows"])
    if st.button("‚ö° –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ–π"):
        with st.spinner("–°–∏–º—É–ª—è—Ü–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞..."):
            p = f"–û–ø–∏—à–∏ —Å–µ—Ä—å–µ–∑–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –≤ –ê–ò–° –ø–æ —Ç–µ–º–µ {topic_l}. –°—Ç—É–¥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ."
            st.session_state.lab_q = ask_groq("–¢—ã ‚Äî –¥–∏—Å–ø–µ—Ç—á–µ—Ä —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏.", p)
    
    if 'lab_q' in st.session_state:
        st.error(st.session_state.lab_q)
        ans_l = st.text_area("–¢–≤–æ–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:", key="lab_ans")
        if st.button("üéØ –û—Ü–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç—å"):
            eval_p = f"–ò–Ω—Ü–∏–¥–µ–Ω—Ç: {st.session_state.lab_q}\n–†–µ—à–µ–Ω–∏–µ: {ans_l}. –û—Ü–µ–Ω–∏ –∂–µ—Å—Ç–∫–æ."
            terminal_print(ask_groq("–¢—ã ‚Äî —Å—Ç–∞—Ä—à–∏–π –∞–¥–º–∏–Ω.", eval_p))

# --- –í–ö–õ–ê–î–ö–ê 4: –õ–Æ–ë–ê–Ø –¢–ï–ú–ê ---
with tabs[3]:
    st.header("–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω (10 –≤–æ–ø—Ä–æ—Å–æ–≤)")
    
    if 'any_active' not in st.session_state:
        st.session_state.any_active = False
        st.session_state.any_count = 1
        st.session_state.any_topic = ""

    if not st.session_state.any_active:
        st.session_state.any_topic = st.text_input("–í–≤–µ–¥–∏ —Ç–µ–º—É –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã (–Ω–∞–ø—Ä. Minecraft, –†–µ–º–æ–Ω—Ç, –ò—Å—Ç–æ—Ä–∏—è):")
        if st.button("üî• –ù–∞—á–∞—Ç—å –º–∞—Ä–∞—Ñ–æ–Ω"):
            if st.session_state.any_topic:
                st.session_state.any_active = True
                st.session_state.any_count = 1
                st.rerun()
    else:
        st.info(f"–¢–µ–º–∞: {st.session_state.any_topic} | –í–æ–ø—Ä–æ—Å {st.session_state.any_count} / 10")
        
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å
        q_key = f"q_any_{st.session_state.any_count}_{st.session_state.any_topic}"
        if q_key not in st.session_state:
            with st.spinner("–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–∞..."):
                st.session_state[q_key] = ask_groq("–¢—ã –≤–µ–¥—É—â–∏–π –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã.", f"–ó–∞–¥–∞–π –û–î–ò–ù –∫–æ—Ä–æ—Ç–∫–∏–π —Å–ª–æ–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å –ø–æ —Ç–µ–º–µ {st.session_state.any_topic}. –ù–æ–º–µ—Ä {st.session_state.any_count}.")
        
        st.subheader(st.session_state[q_key])
        user_any_ans = st.text_area("–¢–≤–æ–π –æ—Ç–≤–µ—Ç:", key=f"in_any_{st.session_state.any_count}")
        
        if st.button("üéØ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç"):
            with st.spinner("–ü—Ä–æ–≤–µ—Ä–∫–∞..."):
                eval_res = ask_groq("–¢—ã —Å—É–¥—å—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã.", f"–í–æ–ø—Ä–æ—Å: {st.session_state[q_key]}\n–û—Ç–≤–µ—Ç: {user_any_ans}. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä–æ–≥–æ.")
                terminal_print(eval_res)
                
                if st.session_state.any_count < 10:
                    st.button("–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚è≠", on_click=lambda: st.session_state.update({"any_count": st.session_state.any_count + 1}))
                else:
                    st.balloons()
                    st.success("–ú–∞—Ä–∞—Ñ–æ–Ω –æ–∫–æ–Ω—á–µ–Ω!")
                    if st.button("üîÑ –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é —Ç–µ–º—É"):
                        st.session_state.any_active = False
                        st.rerun()
